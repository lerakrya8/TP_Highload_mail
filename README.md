# TP_Highload_mail
В данном проекте будет рассмотрен почтовый сервис, с помощью которого можно читать и отправлять письма (с вложениями и без) 

## Тема и целевая аудитория
Почта Mail.ru входит в пятерку самых посещаемых почтовых сервисов по численности пользователей за день, при этом ежемесячная аудитория в РФ составляет [34,5 млн. человек, ежедневная - 20 млн в день](https://journal.tinkoff.ru/news/review-mail-ru-group/).

## MVP
1. Регистрация и авторизация
2. Просмотр почтового ящика
3. Чтение писем
4. Отправка писем
5. Удаление письма

## Расчет нагрузки
#### Продуктовые метрики
* Месячная аудитория - 34.5 млн человек
* Дневная нагрузка - 20 млн человек
* Количество активных акквунтов - [100 млн человек](https://corp.mail.ru/ru/company/portal/) (~68% населения РФ)
* Средний размер хранилища пользователя:

 1. Чтение писем. Предположим, что пользователь читает 12 писем за день. [Около 50% всех писем](https://corp.mail.ru/ru/press/releases/10147/) содержат вложения, из которых 80% это фотографии, 19% - документы и 1 % - видеофайлы и архивы. При этом, каждое пятое письмо содержит два и более вложений. Получается, что в среднем пользователь прочитывает 6 писем без вложений (размер такого письма 4 кб), 2 письма - с двумя и более вложениями (~800 кб) и 4 письма с одним вложением (~400кб)

| Письма без сложений | Письма с вложением| Письма с вложениями |Итого|  
| ------------- |:------------------:| -----:| -----:|
|       24кб   | 1600кб    | 1600кб |3,223 мб|

2. Просмотр почтового ящика. За один визит пользователь просматривает [~6 страниц](https://www.similarweb.com/website/mail.ru/#overview) почтового ящика (50 писем на каждой странице). Размер одного письма в данном случае - 9.3 кб, получается 

```
  6 страниц * 50 писем * 9.3 кб = 2,79 мб
```
3. Отправка писем. В среднем пользователь пишет 5 писем в день. Исходя из данных п.1, получаем

| Письма без сложений | Письма с вложением| Письма с вложениями |Итого|  
| ------------- |:------------------:| -----:| -----:|
|      8 кб   | 800кб    | 800кб |1,608 мб|

Итого, 

| Чтение писем | Проверка почтового ящика| Написание писем |Итого|  
| ------------- |:------------------:| -----:| -----:|
|       3,223 мб   | 2,79 мб  | 1,608 мб | 7,621 мб|

#### Среднее количество действий пользователя по типам в день
